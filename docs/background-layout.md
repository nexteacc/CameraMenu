# BananaFood 背景布局文档

## 概述

BananaFood 应用使用动态滚动的食物图标作为背景装饰，营造活泼的美食氛围。

---

## 背景图标系统

### 图标资源

- 位置：`/public/bananafood/`
- 数量：12 个 PNG 图标（1.png ~ 12.png）
- 格式：透明背景 PNG，带圆角效果

### 网格布局

| 属性 | 值 |
|------|-----|
| 列数 | 3 列 |
| 行数 | 4 行 |
| 图标尺寸 | 120px × 120px |
| 图标间距 | 20px |
| 单网格宽度 | 400px (3×120 + 2×20) |
| 单网格高度 | 540px (4×120 + 3×20) |

### 滚动动画

| 属性 | 值 |
|------|-----|
| 方向 | 左上 → 右下 |
| 移动距离 | 420px × 560px |
| 动画时长 | 15 秒 |
| 循环方式 | 无限循环 |

### 视觉样式

- 背景色：`#fffbeb`（温暖奶油色）
- 图标透明度：100%（完全不透明）
- 图标填充：90%（在格子内留有边距）

---

## 页面布局结构

### 1. 首页（idle 状态）

```
┌─────────────────────────────────┐
│  [背景图标网格 - 滚动动画]        │
│  ┌─────────────────────────┐    │
│  │     [用户头像按钮]  →    │    │
│  │                         │    │
│  │   ┌─────────────────┐   │    │
│  │   │   Glass Card    │   │    │
│  │   │                 │   │    │
│  │   │  BananaFood     │   │    │
│  │   │                 │   │    │
│  │   │ [语言选择器]     │   │    │
│  │   │                 │   │    │
│  │   │ [翻译] [识别]   │   │    │
│  │   └─────────────────┘   │    │
│  └─────────────────────────┘    │
└─────────────────────────────────┘
```

**Glass Card 样式：**
- 背景：`bg-amber-50/80`（半透明琥珀色）
- 模糊效果：`backdrop-blur-lg`
- 圆角：`rounded-3xl`
- 阴影：`shadow-2xl`

### 2. 选择来源页（select-source 状态）

```
┌─────────────────────────────────┐
│  [背景图标网格 - 滚动动画]        │
│  ┌─────────────────────────┐    │
│  │   ┌─────────────────┐   │    │
│  │   │   Glass Card    │   │    │
│  │   │                 │   │    │
│  │   │  功能标题        │   │    │
│  │   │  目标语言标签    │   │    │
│  │   │                 │   │    │
│  │   │ [相机] [相册]   │   │    │
│  │   │                 │   │    │
│  │   │   ← 返回        │   │    │
│  │   └─────────────────┘   │    │
│  └─────────────────────────┘    │
└─────────────────────────────────┘
```

### 3. 处理中页（processing 状态）

```
┌─────────────────────────────────┐
│  [背景图标网格 - 滚动动画]        │
│  ┌─────────────────────────┐    │
│  │   ┌─────────────────┐   │    │
│  │   │   Glass Card    │   │    │
│  │   │                 │   │    │
│  │   │   [旋转动画]     │   │    │
│  │   │                 │   │    │
│  │   │  处理中...       │   │    │
│  │   │  请稍候          │   │    │
│  │   └─────────────────┘   │    │
│  └─────────────────────────┘    │
└─────────────────────────────────┘
```

### 4. 结果页（results 状态）

- 使用 `ResultsView` 组件
- 显示处理后的图片或错误信息
- 提供重拍、返回、重试操作

---

## 技术实现

### 组件结构

```
BananaBackground.tsx  - 背景图标网格组件
├── banana-bg-container  - 固定定位容器
└── banana-grid (多个)   - CSS Grid 网格
    └── banana-icon (12个) - 单个图标
```

### 层级关系

| 层级 | 元素 | z-index |
|------|------|---------|
| 底层 | 背景图标网格 | 0 |
| 顶层 | 页面内容 | 1 |

### 关键 CSS 类

```css
.banana-page          /* 页面容器 */
.banana-bg-container  /* 背景容器，fixed 定位 */
.banana-grid          /* 图标网格，CSS Grid */
.banana-icon          /* 单个图标 */
```

---

## 文件位置

- 样式：`app/globals.css`
- 组件：`components/BananaBackground.tsx`
- 图标：`public/bananafood/*.png`

---

## 相关文档

- [待优化项](./todo-optimizations.md) - 功能优化计划
